
<main class="container">
  <!-- leaflet map -->
  <h3 class="col-md-8 col-xs-12">Zoom in, drag the icon and then save your issue's location</h3>
  <div class="container" ng-controller="NewIssueCtrl as newIssue">

    <div class="map-container" ng-controller="MapCtrl as map">
     <leaflet width="100%" height="400px"
     lf-center="yverdon"
     event-broadcast="events"
     defaults="map.defaults"
     markers="markers">
   </leaflet>
 </div>
 <!-- end of leaflet map -->
 <button class='btn btn-danger form-group pull-left' type="submit" ng-click="newIssue.updateLocation(position.lat, position.lng)">Save Location</button>
 <div class='col-md-6' ng-if="newIssue.locationOK == true">
   <div><h3 class="col-md-8 col-xs-12">Other details...</h3></div>
   <form name="form" ng-submit="newIssue.createNewIssue()" role="form">
    <div class='form-row'>
      <label class="item item-input item-select">
        <label class="input-label">Type</label>
        <select class="form-control"
        data-ng-change="newIssue.issue.issueTypeHref = issueType.href"
        ng-model="issueType.href"
        ng-options="issueType.href as issueType.name for issueType in newIssue.issueTypes">
        <option value="">Issue Type</option>
      </select>
    </label>
  </div>
  <div class="form-row">
    <label class='control-label'>Description</label>
    <textarea class="col-xs-12 col-md-8 form-group required form-control" rows="3" ng-model="newIssue.issue.description">Please give more details about the issue</textarea>
  </div>
  <div class="form-row">
    <label class='control-label'>Tags</label>
    <tags-input ng-model="newIssue.issue.tags" use-strings="true"></tags-input>
  </div>
  <button class='btn btn-danger form-group' type="submit" class="btn">Save Issue </button>
</form>

</div>
</div>
</main>
